<% layout('./layouts/boilerplate') %>
    <div class="row container-fluid my-3">
        <div class="col-2">
            <a href="/campgrounds/<%= campground.id %>"
                class="btn btn-outline-dark mb-5 border-0" title="Back">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                    fill="currentColor" class="bi bi-caret-left-fill"
                    viewBox="0 0 16 16">
                    <path
                        d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z" />
                </svg> </a>
        </div>
        <div class="col-8">
            <h1 class="display-6 text-center">Edit Campground</h1>
        </div>
    </div>
    <div class="col-6 offset-3 container">
        <form action="/campgrounds/<%= campground.id %>?_method=PUT"
            method="POST" novalidate class="validated-form"
            enctype="multipart/form-data">
            <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input type="text" class="form-control" name="campground[title]"
                    id="title" placeholder="Name of the Campground"
                    value="<%= campground.title %>" required>
                <div class="invalid-feedback">
                    Enter a name for the Campground!
                </div>
            </div>
            <div class="mb-3">
                <label for="location" class="form-label">Location</label>
                <input type="text" class="form-control"
                    name="campground[location]" id="location"
                    placeholder="Location of the Campground"
                    value="<%= campground.location %>" required>
                <div class="invalid-feedback">
                    Enter a location for the Campground!
                </div>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <div class="input-group">
                    <span class="input-group-text" id="price-label">$</span>
                    <input type="text" class="form-control"
                        name="campground[price]" id="price"
                        value="<%= campground.price %>" required>
                </div>
            </div>
            <div class="mb-3">
                <label for="description " class="form-label">Description</label>
                <textarea type="text" class="form-control"
                    name="campground[description]" id="description"
                    placeholder="Add a description"
                    required><%= campground.description %></textarea>

                <div class="invalid-feedback">
                    Enter a description for the Campground!
                </div>
            </div>
            <div>
                <label class="form-label">Add Image(s)</label>
                <div class="form-file custom-file">
                    <input class="form-control custom-file-input" type="file"
                        id="image" name="image" multiple
                        onchange="previewMultiple(event)">
                    <label for="image"
                        class="form-label custom-file-label"></label>
                </div>
                <div id="formFile" class="mb-3"></div>
            </div>
            <h6> Delete Images </h6>
            <div class="row row-cols-1 row-cols-md-4 g-4 mb-5">
                <% campground.images.forEach((image, i)=> { %>
                    <div class="col">
                        <div class="card">
                            <img class="card-img" src="<%= image.thumbnail %>"
                                alt="">
                            <div class="card-img-overlay text-end pt-1 pe-2">
                                <label class="visually-hidden"
                                    for="image-<%= i %>">Delete Image</label>
                                <input class="form-check-input" type="checkbox"
                                    name="deleteImages[]"
                                    value="<%= image.filename %>"
                                    id="image-<%= i %>">
                            </div>
                        </div>
                    </div>
                    <% }) %>
            </div>
            <!-- <div class="mb-5">
                <% campground.images.forEach(function(img, i) { %>
                    <img src="<%= img.thumbnail %> " alt=""
                        class="img border shadow-sm rounded">
                    <div class="form-check-inline mx-2">
                        <input type="checkbox" id="image-<%= i %>"
                            name="deleteImages[]" value="<%= img.filename %>">
                    </div>
                    <label class="form-label me-2"
                        for="image-<%= i %>">Delete</label>
                    <% }) %>
            </div> -->
            <div class="d-flex justify-content-center">
                <button class="btn btn-outline-success mb-5">Update
                    Campground</button>
            </div>
        </form>
    </div>